name: Metrics
on:
  # æ¯å¤©åŒ—äº¬æ—¶é—´ 0 ç‚¹è¿è¡Œ
  schedule: [{cron: "0 16 * * *"}]
  # å…è®¸æ‰‹åŠ¨è§¦å‘
  workflow_dispatch:
  # æ¯æ¬¡ push åˆ° main åˆ†æ”¯æ—¶æ›´æ–°
  push: {branches: ["main"]}

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # ä½ çš„ GitHub Token (ç³»ç»Ÿè‡ªå¸¦ï¼Œæ— éœ€é…ç½®)
          token: ${{ secrets.GITHUB_TOKEN }}

          # è¾“å‡ºæ–‡ä»¶å
          filename: github-metrics.svg

          # åŸºç¡€é€‰é¡¹
          user: Way2top
          template: classic
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Shanghai
          
          # ðŸ† æ’ä»¶ï¼šæˆå°±/å¥–æ¯ (æ›¿ä»£ Trophy)
          plugin_achievements: yes
          plugin_achievements_display: compact
          plugin_achievements_threshold: C
          
          # ðŸ“Š æ’ä»¶ï¼šç¼–ç¨‹è¯­è¨€ (æ›¿ä»£ Top Langs)
          plugin_languages: yes
          plugin_languages_ignored: >-
            html, css, tex, less, dockerfile, makefile, qmake, lex, cmake, shell,
            gnuplot
          plugin_languages_limit: 8
          plugin_languages_sections: most-used
          plugin_languages_details: lines, percentage
